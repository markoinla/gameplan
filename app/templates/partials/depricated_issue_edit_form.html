<!-- Issue edit form with ID that matches the original issue ID structure -->
<div id="issue-{{ issue.id }}" class="issue-edit-container">
    <form class="issue-edit-form p-2" id="edit-issue-form-{{ issue.id }}"
          hx-put="/htmx/issues/{{ issue.id }}/update"
          hx-target="#projectsContainer"
          hx-swap="innerHTML"
          hx-preserve="true">
        <div class="mb-2">
            <textarea class="form-control auto-expand" name="details" rows="2" required>{{ issue.details }}</textarea>
        </div>
        <div class="form-check mb-2">
            <input class="form-check-input" type="checkbox" name="completed" id="editIssueCompleted{{ issue.id }}" 
                   {% if issue.completed %}checked{% endif %}>
            <label class="form-check-label" for="editIssueCompleted{{ issue.id }}">
                Completed
            </label>
        </div>
        <div class="form-check mb-2">
            <input class="form-check-input" type="checkbox" name="starred" id="editIssueStarred{{ issue.id }}" 
                   {% if issue.starred %}checked{% endif %}>
            <label class="form-check-label" for="editIssueStarred{{ issue.id }}">
                <i class="bi bi-star-fill text-warning me-1"></i> Mark as important
            </label>
        </div>
        <div class="d-flex justify-content-end">
            <button type="button" class="btn btn-sm btn-secondary me-2" 
                    onclick="closeFormContainer('issue-{{ issue.id }}')">
                Cancel
            </button>
            <button type="submit" class="btn btn-sm btn-primary">Save</button>
        </div>
    </form>
</div>

<!-- Add debugging info to console -->
<script>
    console.log("Issue edit form loaded for issue #{{ issue.id }}");
</script>

<!-- Issue edit form with ID that matches the original issue ID structure -->
<div id="issue-{{ issue.id }}" class="issue-edit-container">
    <form class="issue-edit-form p-2" id="edit-issue-form-{{ issue.id }}"
          hx-put="/htmx/issues/{{ issue.id }}/update"
          hx-target="#projectsContainer"
          hx-swap="innerHTML"
          hx-preserve="true">
        <div class="mb-2">
            <textarea class="form-control auto-expand" name="details" rows="2" required>{{ issue.details }}</textarea>
        </div>
        <div class="form-check mb-2">
            <input class="form-check-input" type="checkbox" name="completed" id="editIssueCompleted{{ issue.id }}" 
                   {% if issue.completed %}checked{% endif %}>
            <label class="form-check-label" for="editIssueCompleted{{ issue.id }}">
                Completed
            </label>
        </div>
        <div class="form-check mb-2">
            <input class="form-check-input" type="checkbox" name="starred" id="editIssueStarred{{ issue.id }}" 
                   {% if issue.starred %}checked{% endif %}>
            <label class="form-check-label" for="editIssueStarred{{ issue.id }}">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="text-warning" width="1.2em" height="1.2em" style="margin-right: 0.25rem;">
                    <path fill-rule="evenodd" d="M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z" clip-rule="evenodd" />
                </svg> Mark as important
            </label>
        </div>
        <div class="d-flex justify-content-end">
            <button type="button" class="btn btn-sm btn-secondary me-2" 
                    onclick="closeFormContainer('issue-{{ issue.id }}')">
                Cancel
            </button>
            <button type="submit" class="btn btn-sm btn-primary">Save</button>
        </div>
    </form>
</div>

<!-- Add debugging info to console -->
<script>
    console.log("Issue edit form loaded for issue #{{ issue.id }}");
</script>

<!-- Task edit form with ID that matches the original task ID structure -->
<div id="task-{{ task.id }}" class="task-edit-container">
    <form class="task-edit-form p-2" id="edit-task-form-{{ task.id }}"
          hx-put="/htmx/tasks/{{ task.id }}/update"
          hx-target="#projectsContainer"
          hx-swap="innerHTML"
          hx-preserve="true">
        <div class="mb-2">
            <textarea class="form-control auto-expand" name="details" rows="2" required>{{ task.details }}</textarea>
        </div>
        <div class="form-check mb-2">
            <input class="form-check-input" type="checkbox" name="completed" id="editTaskCompleted{{ task.id }}" 
                   {% if task.completed %}checked{% endif %}>
            <label class="form-check-label" for="editTaskCompleted{{ task.id }}">
                Completed
            </label>
        </div>
        <div class="d-flex justify-content-end">
            <button type="button" class="btn btn-sm btn-secondary me-2" 
                    onclick="closeFormContainer('task-{{ task.id }}')">
                Cancel
            </button>
            <button type="submit" class="btn btn-sm btn-primary">Save</button>
        </div>
    </form>
</div>

<!-- Add debugging info to console -->
<script>
    console.log("Task edit form loaded for task #{{ task.id }}");
</script>
